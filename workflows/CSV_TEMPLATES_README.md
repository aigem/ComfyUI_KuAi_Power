# NanoBanana CSV æ‰¹é‡å¤„ç†æ¨¡æ¿

## ğŸ“ å¯ç”¨æ¨¡æ¿

æœ¬ç›®å½•æä¾›äº†å¤šä¸ª CSV æ¨¡æ¿æ–‡ä»¶ï¼Œæ–¹ä¾¿æ‚¨å¿«é€Ÿå¼€å§‹æ‰¹é‡å›¾åƒç”Ÿæˆä»»åŠ¡ã€‚

### 1. ç©ºç™½æ¨¡æ¿ (nanobana_batch_template_blank.csv)
**ç”¨é€”**: ä»é›¶å¼€å§‹åˆ›å»ºè‡ªå®šä¹‰æ‰¹é‡ä»»åŠ¡

**ç‰¹ç‚¹**:
- åªåŒ…å«åˆ—æ ‡é¢˜
- é€‚åˆæœ‰ç»éªŒçš„ç”¨æˆ·
- å®Œå…¨è‡ªå®šä¹‰æ‰€æœ‰å‚æ•°

**ä¸‹è½½**: [nanobana_batch_template_blank.csv](./nanobana_batch_template_blank.csv)

---

### 2. æ–‡ç”Ÿå›¾æ¨¡æ¿ (nanobana_batch_template_text2image.csv)
**ç”¨é€”**: æ‰¹é‡ç”Ÿæˆå…¨æ–°å›¾åƒï¼ˆæ— éœ€å‚è€ƒå›¾ï¼‰

**ç‰¹ç‚¹**:
- åŒ…å« 3 ä¸ªç¤ºä¾‹ä»»åŠ¡
- å±•ç¤ºä¸åŒçš„åº”ç”¨åœºæ™¯ï¼ˆç§‘å¹»ã€é£æ™¯ã€äº§å“æ‘„å½±ï¼‰
- å±•ç¤ºä¸åŒæ¨¡å‹çš„ä½¿ç”¨æ–¹æ³•

**ç¤ºä¾‹ä»»åŠ¡**:
1. ç§‘å¹»åŸå¸‚åœºæ™¯
2. å±±æ°´é£æ™¯
3. äº§å“æ‘„å½±

**ä¸‹è½½**: [nanobana_batch_template_text2image.csv](./nanobana_batch_template_text2image.csv)

---

### 3. å›¾ç”Ÿå›¾æ¨¡æ¿ (nanobana_batch_template_image2image.csv)
**ç”¨é€”**: æ‰¹é‡ç¼–è¾‘æˆ–è½¬æ¢ç°æœ‰å›¾åƒ

**ç‰¹ç‚¹**:
- åŒ…å« 3 ä¸ªç¤ºä¾‹ä»»åŠ¡
- å±•ç¤ºå›¾åƒç¼–è¾‘åœºæ™¯ï¼ˆè‰²å½©å¢å¼ºã€é£æ ¼è½¬æ¢ã€å…‰å½±è°ƒæ•´ï¼‰
- å±•ç¤ºå¦‚ä½•ä½¿ç”¨å‚è€ƒå›¾

**ç¤ºä¾‹ä»»åŠ¡**:
1. è‰²å½©å¢å¼º
2. èµ›åšæœ‹å…‹é£æ ¼è½¬æ¢
3. æˆå‰§æ€§å…‰å½±æ•ˆæœ

**ä¸‹è½½**: [nanobana_batch_template_image2image.csv](./nanobana_batch_template_image2image.csv)

**é‡è¦æç¤º**: ä½¿ç”¨å‰è¯·å°† `/path/to/your/imageX.jpg` æ›¿æ¢ä¸ºæ‚¨çš„å®é™…å›¾ç‰‡è·¯å¾„ï¼

---

### 4. ä¸­æ–‡æ¨¡æ¿ (nanobana_batch_template_chinese.csv)
**ç”¨é€”**: ä¸­æ–‡ç”¨æˆ·å‹å¥½çš„æ‰¹é‡ä»»åŠ¡æ¨¡æ¿

**ç‰¹ç‚¹**:
- åŒ…å« 5 ä¸ªç¤ºä¾‹ä»»åŠ¡ï¼ˆ3ä¸ªç”Ÿå›¾ + 2ä¸ªæ”¹å›¾ï¼‰
- æ‰€æœ‰æç¤ºè¯å’Œç³»ç»Ÿæç¤ºè¯éƒ½æ˜¯ä¸­æ–‡
- å±•ç¤ºä¸­æ–‡ä»»åŠ¡ç±»å‹ï¼ˆç”Ÿå›¾/æ”¹å›¾ï¼‰

**ç¤ºä¾‹ä»»åŠ¡**:
1. ç§‘å¹»åŸå¸‚
2. å±±æ°´é£æ™¯ç”»
3. äº§å“æ‘„å½±
4. è‰²å½©å¢å¼º
5. èµ›åšæœ‹å…‹é£æ ¼

**ä¸‹è½½**: [nanobana_batch_template_chinese.csv](./nanobana_batch_template_chinese.csv)

---

### 5. å®Œæ•´ç¤ºä¾‹ (nanobana_batch_example.csv)
**ç”¨é€”**: å­¦ä¹ å’Œå‚è€ƒçš„å®Œæ•´ç¤ºä¾‹

**ç‰¹ç‚¹**:
- åŒ…å« 6 ä¸ªç¤ºä¾‹ä»»åŠ¡
- æ··åˆä¸­è‹±æ–‡
- å±•ç¤ºæ‰€æœ‰åŠŸèƒ½å’Œå‚æ•°

**ä¸‹è½½**: [nanobana_batch_example.csv](./nanobana_batch_example.csv)

---

## ğŸ“ CSV åˆ—è¯´æ˜

### å¿…éœ€åˆ—

| åˆ—å | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| `task_type` | ä»»åŠ¡ç±»å‹ | `generate`, `edit`, `ç”Ÿå›¾`, `æ”¹å›¾` |
| `prompt` | å›¾åƒç”Ÿæˆæç¤ºè¯ | `A futuristic city with flying cars` |

### å¯é€‰åˆ—ï¼ˆç•™ç©ºåˆ™ä½¿ç”¨é»˜è®¤å€¼ï¼‰

| åˆ—å | è¯´æ˜ | é»˜è®¤å€¼ | å¯é€‰å€¼ |
|------|------|--------|--------|
| `system_prompt` | ç³»ç»Ÿæç¤ºè¯ | ç©º | ä»»æ„æ–‡æœ¬ |
| `model_name` | æ¨¡å‹åç§° | `gemini-3-pro-image-preview` | `gemini-3-pro-image-preview`, `gemini-2.5-flash-image` |
| `seed` | éšæœºç§å­ | `0` (éšæœº) | 0 - 18446744073709551615 |
| `aspect_ratio` | å®½é«˜æ¯” | `1:1` | `1:1`, `2:3`, `3:2`, `3:4`, `4:3`, `4:5`, `5:4`, `9:16`, `16:9`, `21:9` |
| `image_size` | å›¾åƒå°ºå¯¸ | `2K` | `1K`, `2K`, `4K` (ä»… gemini-3-pro-image-preview) |
| `temperature` | ç”Ÿæˆæ¸©åº¦ | `1.0` | 0.0 - 2.0 |
| `use_search` | å¯ç”¨æœç´¢ | `true` | `true`, `false` |
| `image_1` ~ `image_6` | å‚è€ƒå›¾è·¯å¾„ | ç©º | æœ¬åœ°å›¾ç‰‡è·¯å¾„ |
| `output_prefix` | è¾“å‡ºæ–‡ä»¶å‰ç¼€ | `task_N` | ä»»æ„æ–‡æœ¬ï¼ˆå»ºè®®è‹±æ–‡ï¼‰ |

---

## ğŸ¯ ä½¿ç”¨æ­¥éª¤

### 1. é€‰æ‹©åˆé€‚çš„æ¨¡æ¿

æ ¹æ®æ‚¨çš„éœ€æ±‚é€‰æ‹©æ¨¡æ¿ï¼š
- **æ–°æ‰‹**: ä½¿ç”¨ `text2image` æˆ– `chinese` æ¨¡æ¿
- **å›¾åƒç¼–è¾‘**: ä½¿ç”¨ `image2image` æ¨¡æ¿
- **è‡ªå®šä¹‰**: ä½¿ç”¨ `blank` æ¨¡æ¿

### 2. ä¸‹è½½å¹¶ç¼–è¾‘æ¨¡æ¿

1. ä¸‹è½½æ¨¡æ¿æ–‡ä»¶åˆ°æœ¬åœ°
2. ä½¿ç”¨ Excelã€Google Sheets æˆ–æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€
3. æ ¹æ®éœ€æ±‚ä¿®æ”¹æˆ–æ·»åŠ ä»»åŠ¡è¡Œ
4. **é‡è¦**: ä¿å­˜ä¸º UTF-8 ç¼–ç çš„ CSV æ–‡ä»¶

### 3. å¡«å†™å‚æ•°

#### æ–‡ç”Ÿå›¾ä»»åŠ¡ç¤ºä¾‹
```csv
task_type,prompt,system_prompt,model_name,seed,aspect_ratio,output_prefix
generate,A magical forest with glowing trees,You are a fantasy artist,gemini-3-pro-image-preview,42,16:9,forest_001
```

#### å›¾ç”Ÿå›¾ä»»åŠ¡ç¤ºä¾‹
```csv
task_type,prompt,system_prompt,model_name,seed,aspect_ratio,image_1,output_prefix
edit,Make it more colorful,Enhance colors,gemini-2.5-flash-image,100,1:1,/home/user/photo.jpg,colorful_001
```

### 4. åœ¨ ComfyUI ä¸­ä½¿ç”¨

1. æ·»åŠ  `CSVBatchReader` èŠ‚ç‚¹
2. è¾“å…¥ CSV æ–‡ä»¶è·¯å¾„
3. è¿æ¥åˆ° `NanoBananaBatchProcessor` èŠ‚ç‚¹
4. é…ç½® API å¯†é’¥å’Œè¾“å‡ºç›®å½•
5. è¿è¡Œå·¥ä½œæµ

---

## ğŸ’¡ ä½¿ç”¨æŠ€å·§

### 1. ç³»ç»Ÿæç¤ºè¯çš„ä½œç”¨

ç³»ç»Ÿæç¤ºè¯ç”¨äºæŒ‡å¯¼ AI çš„æ•´ä½“é£æ ¼å’Œè¡Œä¸ºï¼š

**å¥½çš„ç³»ç»Ÿæç¤ºè¯**:
- âœ… `You are a professional product photographer specializing in luxury goods`
- âœ… `Create images in a minimalist, modern style with clean lines`
- âœ… `ä½ æ˜¯ä¸€ä¸ªä¸“ä¸šçš„æ¦‚å¿µè®¾è®¡å¸ˆï¼Œæ“…é•¿ç§‘å¹»å’Œæœªæ¥ä¸»ä¹‰é£æ ¼`

**é¿å…**:
- âŒ å¤ªçŸ­: `good`, `nice`
- âŒ å¤ªå…·ä½“: `make it red` (åº”è¯¥æ”¾åœ¨ prompt ä¸­)

### 2. ç§å­å€¼çš„ä½¿ç”¨

- `seed = 0`: æ¯æ¬¡ç”Ÿæˆä¸åŒçš„éšæœºç»“æœ
- `seed = å›ºå®šå€¼`: ç›¸åŒå‚æ•°ç”Ÿæˆç›¸ä¼¼ç»“æœ
- æ‰¹é‡ç”Ÿæˆå˜ä½“: ä½¿ç”¨ä¸åŒç§å­å€¼ï¼ˆ42, 100, 200...ï¼‰

### 3. æ¨¡å‹é€‰æ‹©

**gemini-3-pro-image-preview**:
- âœ… æ”¯æŒ Google æœç´¢å¢å¼º
- âœ… æ”¯æŒ image_size å‚æ•° (1K/2K/4K)
- âœ… æ›´å¼ºçš„ç†è§£èƒ½åŠ›
- âš ï¸ é€Ÿåº¦è¾ƒæ…¢

**gemini-2.5-flash-image**:
- âœ… é€Ÿåº¦æ›´å¿«
- âœ… æˆæœ¬æ›´ä½
- âš ï¸ ä¸æ”¯æŒ image_size å‚æ•°
- âš ï¸ ä¸æ”¯æŒæœç´¢å¢å¼º

### 4. å‚è€ƒå›¾è·¯å¾„

æ”¯æŒçš„è·¯å¾„æ ¼å¼ï¼š
```csv
# ç»å¯¹è·¯å¾„ï¼ˆæ¨èï¼‰
/home/user/images/photo.jpg
C:\Users\Name\Pictures\photo.jpg

# ç›¸å¯¹è·¯å¾„
./images/photo.jpg
../photos/photo.jpg

# ç”¨æˆ·ç›®å½•
~/Pictures/photo.jpg
```

**æ³¨æ„äº‹é¡¹**:
- Windows è·¯å¾„å¯ä»¥ä½¿ç”¨åæ–œæ  `\` æˆ–æ­£æ–œæ  `/`
- è·¯å¾„ä¸­æœ‰ç©ºæ ¼æ—¶ï¼Œæ— éœ€åŠ å¼•å·
- ç¡®ä¿æ–‡ä»¶å­˜åœ¨ä¸”å¯è¯»

### 5. è¾“å‡ºæ–‡ä»¶å‘½å

å»ºè®®ä½¿ç”¨æœ‰æ„ä¹‰çš„å‰ç¼€ï¼š
```csv
output_prefix
product_watch_v1
concept_car_design_01
portrait_style_cyberpunk
```

ç”Ÿæˆçš„æ–‡ä»¶åæ ¼å¼ï¼š
```
{output_prefix}_{timestamp}.png
product_watch_v1_20250113_143022.png
```

---

## âš ï¸ å¸¸è§é”™è¯¯

### é”™è¯¯ 1: CSV ç¼–ç é—®é¢˜
**ç—‡çŠ¶**: ä¸­æ–‡ä¹±ç æˆ–è¯»å–å¤±è´¥

**è§£å†³æ–¹æ¡ˆ**:
- Excel: å¦å­˜ä¸º â†’ é€‰æ‹© "CSV UTF-8 (é€—å·åˆ†éš”)"
- Google Sheets: æ–‡ä»¶ â†’ ä¸‹è½½ â†’ é€—å·åˆ†éš”å€¼ (.csv)
- æ–‡æœ¬ç¼–è¾‘å™¨: ä¿å­˜æ—¶é€‰æ‹© UTF-8 ç¼–ç 

### é”™è¯¯ 2: å‚è€ƒå›¾è·¯å¾„é”™è¯¯
**ç—‡çŠ¶**: `å›¾ç‰‡æ–‡ä»¶ä¸å­˜åœ¨: /path/to/...`

**è§£å†³æ–¹æ¡ˆ**:
- ä½¿ç”¨ç»å¯¹è·¯å¾„
- æ£€æŸ¥æ–‡ä»¶æ˜¯å¦å­˜åœ¨
- æ£€æŸ¥è·¯å¾„æ‹¼å†™æ˜¯å¦æ­£ç¡®

### é”™è¯¯ 3: åˆ—åé”™è¯¯
**ç—‡çŠ¶**: `æ— æ•ˆçš„ä»»åŠ¡ç±»å‹` æˆ–å…¶ä»–å‚æ•°é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**:
- ç¡®ä¿ç¬¬ä¸€è¡Œæ˜¯åˆ—æ ‡é¢˜
- åˆ—åå¿…é¡»å®Œå…¨åŒ¹é…ï¼ˆåŒºåˆ†å¤§å°å†™ï¼‰
- ä¸è¦ä¿®æ”¹åˆ—æ ‡é¢˜

### é”™è¯¯ 4: ç©ºè¡Œå¯¼è‡´é”™è¯¯
**ç—‡çŠ¶**: æŸäº›ä»»åŠ¡è¢«è·³è¿‡

**è§£å†³æ–¹æ¡ˆ**:
- åˆ é™¤ CSV ä¸­çš„ç©ºè¡Œ
- ç¡®ä¿æ¯è¡Œéƒ½æœ‰ task_type å’Œ prompt

---

## ğŸ“š æ›´å¤šèµ„æº

- **è¯¦ç»†ä½¿ç”¨æŒ‡å—**: [NANOBANA_BATCH_GUIDE.md](../NANOBANA_BATCH_GUIDE.md)
- **é¡¹ç›®æ–‡æ¡£**: [CLAUDE.md](../CLAUDE.md)
- **API è§„èŒƒ**: [API_SPECIFICATION.md](../API_SPECIFICATION.md)

---

## ğŸ”„ æ¨¡æ¿æ›´æ–°æ—¥å¿—

### 2025-12-13
- âœ… åˆ›å»ºç©ºç™½æ¨¡æ¿
- âœ… åˆ›å»ºæ–‡ç”Ÿå›¾æ¨¡æ¿
- âœ… åˆ›å»ºå›¾ç”Ÿå›¾æ¨¡æ¿
- âœ… åˆ›å»ºä¸­æ–‡æ¨¡æ¿
- âœ… åˆ›å»ºå®Œæ•´ç¤ºä¾‹

---

**æ–‡æ¡£ç‰ˆæœ¬**: 1.0
**æœ€åæ›´æ–°**: 2025-12-13
